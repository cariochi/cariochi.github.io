<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>EXPRESSO · CARIOCHI</title>
    <link rel="icon" type="image/png" href="/assets/images/favicon.png">
    <link rel="shortcut icon" type="image/png" href="/assets/images/favicon.png"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>EXPRESSO | CARIOCHI</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="EXPRESSO" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Documentation hub for Reflecto, Objecto, Recordo, Expresso" />
<meta property="og:description" content="Documentation hub for Reflecto, Objecto, Recordo, Expresso" />
<link rel="canonical" href="https://cariochi.github.io/projects/expresso/" />
<meta property="og:url" content="https://cariochi.github.io/projects/expresso/" />
<meta property="og:site_name" content="CARIOCHI" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="EXPRESSO" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Documentation hub for Reflecto, Objecto, Recordo, Expresso","headline":"EXPRESSO","url":"https://cariochi.github.io/projects/expresso/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/site.css"/>
    <link rel="stylesheet" href="/assets/css/rouge.css">
</head>
<body><header class="site-header">
    <div class="container">
        <a class="brand" href="/">
            <img src="/assets/images/logo.svg" alt="CARIOCHI"/>
<!--            <span>CARIOCHI</span>-->
        </a>

        <input type="checkbox" id="nav-toggle" class="nav-toggle" aria-label="Toggle navigation">

        <label for="nav-toggle" class="menu-toggle">
            <svg class="burger" viewBox="0 0 24 24" width="20" height="20" aria-hidden="true">
                <path d="M3 6h18M3 12h18M3 18h18" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" fill="none"/>
            </svg>
            <span class="menu-text">Menu</span>
        </label>

        <nav class="top-nav" aria-label="Projects">
            <ul><li>
                <a href="/projects/reflecto">REFLECTO</a>
                </li><li>
                <a href="/projects/objecto">OBJECTO</a>
                </li><li>
                <a href="/projects/recordo">RECORDO</a>
                </li><li>
                <a href="/projects/spring-data-web-spec">WEB SPEC</a>
                </li><li class="active">
                <a href="/projects/expresso">EXPRESSO</a>
                </li></ul>
        </nav><a class="header-github" href="https://expresso.cariochi.com" target="_blank" rel="noopener"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" fill="currentColor">
                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none"/>
                <polygon points="10,8 16,12 10,16" fill="currentColor"/>
            </svg><span class="github-text">LIVE DEMO</span>
        </a></div>
</header>
<main class="container">
    <div class="grid">
    <aside class="toc" aria-label="Table of contents">
    <div class="toc-inner">
        <h3>EXPRESSO</h3>
        <ul id="toc" class="section-nav">
<li class="toc-entry toc-h1"><a href="#introduction">Introduction</a>
<ul>
<li class="toc-entry toc-h2"><a href="#object-oriented-regular-expressions">Object-Oriented Regular Expressions</a></li>
<li class="toc-entry toc-h2"><a href="#key-features-of-expresso">Key Features of Expresso</a></li>
<li class="toc-entry toc-h2"><a href="#why-choose-expresso">Why Choose Expresso?</a></li>
<li class="toc-entry toc-h2"><a href="#ready-to-start">Ready to Start?</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#defining-patterns">Defining Patterns</a>
<ul>
<li class="toc-entry toc-h2"><a href="#verbose-notation">Verbose Notation</a></li>
<li class="toc-entry toc-h2"><a href="#compact-notation">Compact Notation</a></li>
<li class="toc-entry toc-h2"><a href="#choosing-the-right-notation">Choosing the Right Notation</a></li>
<li class="toc-entry toc-h2"><a href="#using-classes-in-patterns">Using Classes in Patterns</a></li>
<li class="toc-entry toc-h2"><a href="#defining-pattern-hierarchies">Defining Pattern Hierarchies</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#non-capturing-groups">Non-Capturing Groups</a>
<ul>
<li class="toc-entry toc-h2"><a href="#non-capturing-groups-1">Non-Capturing Groups</a></li>
<li class="toc-entry toc-h2"><a href="#explicit-capturing">Explicit Capturing</a></li>
<li class="toc-entry toc-h2"><a href="#summary-of-capturing-behavior">Summary of Capturing Behavior</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#examples">Examples</a>
<ul>
<li class="toc-entry toc-h2"><a href="#matching-example">Matching Example</a></li>
<li class="toc-entry toc-h2"><a href="#try-it-yourself">Try It Yourself</a></li>
</ul>
</li>
</ul>
    </div>
</aside>
    <article class="content">
<!--        <h1>EXPRESSO</h1>-->
        <h1 id="introduction">Introduction</h1>

<h2 id="object-oriented-regular-expressions">Object-Oriented Regular Expressions</h2>

<p>Expresso is a Java library that redefines how you work with regular expressions by introducing object-oriented principles. Unlike traditional regex engines, Expresso
allows you to build modular, reusable, and hierarchical patterns that are easy to maintain and integrate into your applications. With Expresso, you can achieve more
structured and readable solutions for complex text parsing tasks.</p>

<h2 id="key-features-of-expresso">Key Features of Expresso</h2>

<h3 id="hierarchical-patterns">Hierarchical Patterns</h3>

<p>Define patterns in a class-like structure, enabling inheritance and reuse across multiple contexts. This makes your patterns modular and easy to extend.</p>

<h3 id="named-group-exclusivity">Named Group Exclusivity</h3>

<p>Expresso focuses solely on named groups, ignoring unnamed ones to maintain clarity and alignment with object-oriented principles.</p>

<h3 id="flexible-group-naming">Flexible Group Naming</h3>

<p>Use non-standard group names like <code class="language-plaintext highlighter-rouge">@group</code>, <code class="language-plaintext highlighter-rouge">#number</code>, or even hierarchical names like <code class="language-plaintext highlighter-rouge">Class.Subclass.Field</code>, enabling better organization and readability.</p>

<h3 id="reusable-classes">Reusable Classes</h3>

<p>Define patterns once and reuse them across your application by referencing them like objects in your code.</p>

<h3 id="comprehensive-java-api">Comprehensive Java API</h3>

<p>Leverage Expresso’s Java Matcher API to capture structured results, traverse hierarchical groups, and extract meaningful data with ease.</p>

<h2 id="why-choose-expresso">Why Choose Expresso?</h2>

<h3 id="maintainable-patterns">Maintainable Patterns</h3>

<p>By organizing patterns into reusable classes, Expresso minimizes redundancy and makes it easier to maintain large-scale regex-based projects.</p>

<h3 id="structured-outputs">Structured Outputs</h3>

<p>Generate structured outputs like JSON directly from matched patterns, making Expresso perfect for tasks like log parsing, data extraction, and domain-specific language
processing.</p>

<h3 id="interactivity-and-integration">Interactivity and Integration</h3>

<p>With Expresso’s <a href="https://expresso.cariochi.com/">interactive demo</a>, you can experiment with patterns and input text in real-time, ensuring precision before deploying them
into your application.</p>

<h2 id="ready-to-start">Ready to Start?</h2>

<p>Dive into the sections below to explore how to define patterns, utilize advanced features, and see real-world examples of Expresso in action.</p>

<h1 id="defining-patterns">Defining Patterns</h1>

<p>Expresso patterns are designed with modularity, readability, and reusability in mind. Unlike traditional regex engines, Expresso organizes patterns in a class-based
structure using YAML format. This structure allows you to create, extend, and reuse patterns like objects in an object-oriented programming language.</p>

<p>Expresso supports two formats for defining patterns: <strong>Verbose Notation</strong> and <strong>Compact Notation</strong>. Each format is suited for different use cases depending on the
complexity and size of your pattern definitions.</p>

<h2 id="verbose-notation">Verbose Notation</h2>

<p>Verbose notation provides an explicit and detailed way to define patterns, making it ideal for more complex structures or when documentation clarity is important. Each
class includes its name, optional parent class, and a list of associated patterns.</p>

<h4 id="syntax">Syntax:</h4>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">&lt;class name&gt;</span>
  <span class="na">extends</span><span class="pi">:</span> <span class="s">&lt;parent class name&gt;</span>
  <span class="na">patterns</span><span class="pi">:</span> <span class="pi">[</span> <span class="nv">&lt;list of patterns&gt;</span> <span class="pi">]</span>
</code></pre></div></div>

<h4 id="example">Example:</h4>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">IsoDate</span>
  <span class="na">extends</span><span class="pi">:</span> <span class="s">Date</span>
  <span class="na">patterns</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">(?&lt;year&gt;\d{4})-(?&lt;month&gt;\d{2})-(?&lt;day&gt;\d{2})'</span> <span class="pi">]</span>

<span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">UsDate</span>
  <span class="na">extends</span><span class="pi">:</span> <span class="s">Date</span>
  <span class="na">patterns</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">(?&lt;month&gt;\d{2})/(?&lt;day&gt;\d{2})/(?&lt;year&gt;\d{4})'</span> <span class="pi">]</span>
</code></pre></div></div>

<h2 id="compact-notation">Compact Notation</h2>

<p>Compact notation offers a concise way to define patterns, making it suitable for smaller or simpler pattern structures. Patterns are defined directly under their parent
classes without additional fields.</p>

<h4 id="syntax-1">Syntax:</h4>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">&lt;parent class name&gt;</span><span class="pi">:</span>
  <span class="na">&lt;class name&gt;</span><span class="pi">:</span> <span class="pi">[</span> <span class="nv">&lt;list of patterns&gt;</span> <span class="pi">]</span>
</code></pre></div></div>

<h4 id="example-1">Example:</h4>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Date</span><span class="pi">:</span>
  <span class="na">IsoDate</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">(?&lt;year&gt;\d{4})-(?&lt;month&gt;\d{2})-(?&lt;day&gt;\d{2})'</span> <span class="pi">]</span>
  <span class="na">UsDate</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">(?&lt;month&gt;\d{2})/(?&lt;day&gt;\d{2})/(?&lt;year&gt;\d{4})'</span> <span class="pi">]</span>
</code></pre></div></div>

<h2 id="choosing-the-right-notation">Choosing the Right Notation</h2>

<p>The choice between verbose and compact notation depends on your project’s needs:</p>

<ul>
  <li><strong>Verbose Notation</strong> is ideal for complex patterns, as it provides a clear and structured way to define details such as inheritance and multiple patterns.</li>
  <li><strong>Compact Notation</strong> is best for quick and straightforward definitions, where clarity and simplicity are prioritized.</li>
</ul>

<p>Expresso allows you to mix and match both notations within the same project, enabling flexibility based on the complexity of each pattern.</p>

<h2 id="using-classes-in-patterns">Using Classes in Patterns</h2>

<p>One of the unique and powerful features of Expresso is the ability to reference defined classes directly within other patterns. This feature allows for modular and
reusable pattern definitions by embedding class names into templates using the <code class="language-plaintext highlighter-rouge">${ClassName}</code> syntax.</p>

<p>This approach simplifies complex pattern creation by breaking them into smaller, reusable components.</p>

<h4 id="syntax-2">Syntax</h4>

<p>When defining a pattern, you can reference an existing class by enclosing its name in <code class="language-plaintext highlighter-rouge">${...}</code>. The referenced class’s pattern will be expanded in place, maintaining the
hierarchy and reusability of your design.</p>

<h4 id="example-2">Example</h4>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Number</span><span class="pi">:</span>
  <span class="na">Integer</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">\d+'</span> <span class="pi">]</span>
  <span class="na">Decimal</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">${Integer}\.${Integer}'</span> <span class="pi">]</span>

<span class="na">Measurement</span><span class="pi">:</span>
  <span class="na">Weight</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">${Decimal}\s*(kg|lbs)'</span> <span class="pi">]</span>
  <span class="na">Height</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">${Decimal}\s*(cm|in)'</span> <span class="pi">]</span>
</code></pre></div></div>

<p>In this example:</p>

<ul>
  <li>The Decimal pattern reuses the Integer pattern to define decimal numbers.</li>
  <li>The Weight and Height patterns reuse the Decimal class to define units of measurement like kilograms (kg) or centimeters (cm).</li>
</ul>

<h4 id="real-world-use-case">Real-World Use Case</h4>

<p>For instance, if you need to define monetary values and reuse numeric formats:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Currency</span><span class="pi">:</span>
  <span class="na">USD</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">\$${Decimal}'</span> <span class="pi">]</span>
  <span class="na">EUR</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">€${Decimal}'</span> <span class="pi">]</span>

<span class="na">Price</span><span class="pi">:</span>
  <span class="na">Range</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">${Currency}\s*-\s*${Currency}'</span> <span class="pi">]</span>
</code></pre></div></div>

<p>Here:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">USD</code> and <code class="language-plaintext highlighter-rouge">EUR</code> reuse the <code class="language-plaintext highlighter-rouge">Decimal</code> class to represent amounts in dollars and euros.</li>
  <li><code class="language-plaintext highlighter-rouge">Range</code> uses <code class="language-plaintext highlighter-rouge">Currency</code> to define a price range, like $10.99 - $20.49.</li>
</ul>

<p>This powerful feature allows Expresso users to build scalable and maintainable solutions for even the most complex text-parsing requirements.</p>

<h2 id="defining-pattern-hierarchies">Defining Pattern Hierarchies</h2>

<p>Expresso’s true strength lies in its ability to use classes and inheritance for pattern definitions. By defining patterns in a hierarchy, you can build modular, reusable,
and scalable solutions. This approach simplifies pattern management, as changes in base classes automatically propagate to derived patterns.</p>

<h4 id="example-3">Example</h4>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Number</span><span class="pi">:</span>
  <span class="na">Integer</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">\d+'</span> <span class="pi">]</span>
  <span class="na">Decimal</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">${?Integer}\.${?Integer}'</span> <span class="pi">]</span>

<span class="na">Currency</span><span class="pi">:</span>
  <span class="na">USD</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">\$'</span> <span class="pi">]</span>
  <span class="na">EUR</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">€'</span> <span class="pi">]</span>
  <span class="na">GBP</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">£'</span> <span class="pi">]</span>

<span class="na">Money</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">${Currency}${Number}'</span> <span class="pi">]</span>

<span class="na">Percent</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">${Number}%'</span> <span class="pi">]</span>
</code></pre></div></div>

<p>In this example:</p>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">Number</code> class defines reusable numeric patterns:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">Integer</code> matches whole numbers (123).</li>
      <li><code class="language-plaintext highlighter-rouge">Decimal</code> reuses the <code class="language-plaintext highlighter-rouge">Integer</code> class to match decimal numbers (123.45).</li>
    </ul>
  </li>
  <li>The <code class="language-plaintext highlighter-rouge">Currency</code> class defines various currency symbols: $, €, and £.</li>
  <li>The <code class="language-plaintext highlighter-rouge">Money</code> pattern combines <code class="language-plaintext highlighter-rouge">Currency</code> and <code class="language-plaintext highlighter-rouge">Number</code>, allowing for monetary expressions like $123.45 or €456.</li>
  <li>The <code class="language-plaintext highlighter-rouge">Percent</code> pattern combines <code class="language-plaintext highlighter-rouge">Number</code> with % to match percentages, e.g., 25%.</li>
</ul>

<h4 id="advantages">Advantages</h4>

<ol>
  <li><strong>Modularity</strong>: Individual patterns are small and focused, making them easier to manage and extend.</li>
  <li><strong>Reusability</strong>: Base classes like <code class="language-plaintext highlighter-rouge">Number</code> and <code class="language-plaintext highlighter-rouge">Currency</code> can be reused across multiple higher-level patterns.</li>
  <li><strong>Flexibility</strong>: Patterns can adapt to various formats by simply updating used classes.</li>
  <li><strong>Maintainability</strong>: Updates to base patterns automatically reflect in all dependent patterns.</li>
</ol>

<p>With these powerful notations, you can design robust, maintainable, and modular patterns that are easily extendable and adaptable to different use cases.</p>

<h1 id="non-capturing-groups">Non-Capturing Groups</h1>

<p>Expresso provides advanced control over pattern capturing through <strong>non-capturing</strong> groups and <strong>explicit capturing</strong>, allowing for clean, modular, and maintainable
patterns.</p>

<h2 id="non-capturing-groups-1">Non-Capturing Groups</h2>

<p><strong>Non-capturing groups</strong> are used to define classes or groups that participate in pattern matching but are not included in the final output. This can be useful when
certain parts of a pattern are auxiliary or should not clutter the result.</p>

<h3 id="defining-non-capturing-classes">Defining Non-Capturing Classes</h3>

<p>Non-capturing classes can be defined in <strong>three ways</strong>:</p>

<ol>
  <li><strong>Compact Notation</strong> (using the <code class="language-plaintext highlighter-rouge">?</code> prefix):</li>
</ol>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s1">'</span><span class="s">?Action'</span><span class="err">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">grew</span><span class="nv"> </span><span class="s">by'</span><span class="pi">,</span> <span class="s1">'</span><span class="s">is</span><span class="nv"> </span><span class="s">growing</span><span class="nv"> </span><span class="s">by'</span> <span class="pi">]</span>
</code></pre></div></div>

<ol>
  <li><strong>Verbose Notation</strong> (using the <code class="language-plaintext highlighter-rouge">?</code> prefix):</li>
</ol>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s1">'</span><span class="s">?Action'</span>
  <span class="na">patterns</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">grew</span><span class="nv"> </span><span class="s">by'</span><span class="pi">,</span> <span class="s1">'</span><span class="s">is</span><span class="nv"> </span><span class="s">growing</span><span class="nv"> </span><span class="s">by'</span> <span class="pi">]</span>
</code></pre></div></div>

<ol>
  <li><strong>Verbose Notation with</strong> <code class="language-plaintext highlighter-rouge">nonCapturing</code> <strong>Field</strong>:</li>
</ol>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">Action</span>
  <span class="na">nonCapturing</span><span class="pi">:</span> <span class="kc">true</span>
  <span class="na">patterns</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">grew</span><span class="nv"> </span><span class="s">by'</span><span class="pi">,</span> <span class="s1">'</span><span class="s">is</span><span class="nv"> </span><span class="s">growing</span><span class="nv"> </span><span class="s">by'</span> <span class="pi">]</span>
</code></pre></div></div>

<p><strong>Behavior</strong>: If a class is marked as non-capturing, all its descendant classes will also be non-capturing unless explicitly overridden.</p>

<h3 id="defining-non-capturing-groups-in-patterns">Defining Non-Capturing Groups in Patterns</h3>

<p>Even if a class is <strong>not non-capturing</strong>, it can be treated as such within a specific pattern by prefixing it with <code class="language-plaintext highlighter-rouge">?</code>.</p>

<p><strong>Example:</strong></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Number</span><span class="pi">:</span>
  <span class="na">Integer</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">\d+'</span> <span class="pi">]</span>
  <span class="na">Decimal</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">${?Integer}\.${?Integer}'</span> <span class="pi">]</span>
</code></pre></div></div>

<p>Here:</p>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">Integer</code> class is captured normally in other contexts.</li>
  <li>Within the <code class="language-plaintext highlighter-rouge">Decimal</code> pattern, <code class="language-plaintext highlighter-rouge">Integer</code> is used but will not be captured.</li>
</ul>

<h2 id="explicit-capturing">Explicit Capturing</h2>

<p><strong>Explicit capturing</strong> allows you to override non-capturing behavior at both the class and group levels.</p>

<h3 id="explicit-capturing-for-classes">Explicit Capturing for Classes</h3>

<p>You can define a class as <strong>explicit capturing</strong> if it extends a non-capturing parent class. This can be done in verbose or compact notation:</p>

<ol>
  <li><strong>Compact Notation</strong> (using the <code class="language-plaintext highlighter-rouge">!</code> prefix):</li>
</ol>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s1">'</span><span class="s">?NonCapturing'</span><span class="err">:</span>
  <span class="s1">'</span><span class="s">!Capturing'</span><span class="err">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">specific</span><span class="nv"> </span><span class="s">patterns'</span> <span class="pi">]</span>
</code></pre></div></div>

<ol>
  <li><strong>Verbose Notation</strong> (using the <code class="language-plaintext highlighter-rouge">!</code> prefix):</li>
</ol>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s1">'</span><span class="s">?NonCapturing'</span>

<span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s1">'</span><span class="s">!Capturing'</span>
  <span class="na">extends</span><span class="pi">:</span> <span class="s">NonCapturing</span>
  <span class="na">patterns</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">specific</span><span class="nv"> </span><span class="s">patterns'</span> <span class="pi">]</span>
</code></pre></div></div>

<ol>
  <li><strong>Verbose Notation with</strong> <code class="language-plaintext highlighter-rouge">explicitCapturing</code> <strong>Field</strong>:</li>
</ol>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">NonCapturing</span>
  <span class="na">nonCapturing</span><span class="pi">:</span> <span class="kc">true</span>

<span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">Capturing</span>
  <span class="na">extends</span><span class="pi">:</span> <span class="s">NonCapturing</span>
  <span class="na">explicitCapturing</span><span class="pi">:</span> <span class="kc">true</span>
  <span class="na">patterns</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">specific</span><span class="nv"> </span><span class="s">patterns'</span> <span class="pi">]</span>
</code></pre></div></div>

<h3 id="explicit-capturing-for-groups-in-patterns">Explicit Capturing for Groups in Patterns</h3>

<p>You can mark specific groups within a pattern as <strong>explicitly capturing</strong> even if their class is non-capturing. Use the <code class="language-plaintext highlighter-rouge">!</code> prefix for this.</p>

<p><strong>Example:</strong></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">?Action</span><span class="err">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">grew</span><span class="nv"> </span><span class="s">by'</span><span class="pi">,</span> <span class="s1">'</span><span class="s">is</span><span class="nv"> </span><span class="s">growing</span><span class="nv"> </span><span class="s">by'</span> <span class="pi">]</span>
<span class="na">FinData</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">${FinIndicator}</span><span class="nv"> </span><span class="s">${!Action}</span><span class="nv"> </span><span class="s">${Percent}'</span> <span class="pi">]</span>
</code></pre></div></div>

<p>Here:</p>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">Action</code> class is marked as non-capturing.</li>
  <li>Within the <code class="language-plaintext highlighter-rouge">FinData</code> pattern, the <code class="language-plaintext highlighter-rouge">Action</code> group is explicitly captured.</li>
</ul>

<h2 id="summary-of-capturing-behavior">Summary of Capturing Behavior</h2>

<table><thead><tr><th width="212">Type</th><th>Behavior</th></tr></thead><tbody><tr><td><strong>Non-Capturing</strong></td><td>Excludes classes or groups from results unless explicitly captured.</td></tr><tr><td><strong>Explicit Capturing</strong></td><td>Overrides non-capturing behavior for specific classes or groups.</td></tr><tr><td><strong>Group-Level Control</strong></td><td>Allows fine-grained control within individual patterns using <code>?</code> or <code>!</code>.</td></tr></tbody></table>

<p>With <strong>non-capturing</strong> and <strong>explicit capturing</strong>, Expresso gives you powerful tools to build clean and structured patterns while maintaining precision in your outputs</p>

<hr />
<p>description: EXPRESSO
—</p>

<h1 id="examples">Examples</h1>

<h2 id="matching-example">Matching Example</h2>

<h3 id="input-text">Input Text:</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Invoice date: 2023-11-26. Total amount paid: $123.45 (including 20% VAT).
Order placed on: 15/10/2024. Total discount applied: 15% and 10%.
Transaction completed: €678.90 on 2022-12-01. Currency conversion fee: 2.5%.
Payment received: £345.67 on 01/09/2023. Early bird discount: 5%.
Subscription renewed: $49.99 (tax: 8%) on 26-Nov-2024.
</code></pre></div></div>

<h3 id="patterns">Patterns:</h3>

<p><strong>Verbose</strong></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">classes</span><span class="pi">:</span>

  <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">Date</span>
    <span class="na">patterns</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s1">'</span><span class="s">(?&lt;year&gt;(?&lt;Integer&gt;\d{4}))-(?&lt;month&gt;(?&lt;Integer&gt;\d{2}))-(?&lt;day&gt;(?&lt;Integer&gt;\d{2}))'</span>
      <span class="pi">-</span> <span class="s1">'</span><span class="s">(?&lt;month&gt;(?&lt;Integer&gt;\d{2}))/(?&lt;day&gt;(?&lt;Integer&gt;\d{2}))/(?&lt;year&gt;(?&lt;Integer&gt;\d{4}))'</span>
      <span class="pi">-</span> <span class="s1">'</span><span class="s">(?&lt;day&gt;(?&lt;Integer&gt;\d{2}))-(?&lt;month&gt;[JFMAJSOND][a-z]{2})-(?&lt;year&gt;(?&lt;Integer&gt;\d{4}))'</span>

  <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">Integer</span>
    <span class="na">extends</span><span class="pi">:</span> <span class="s">Number</span>
    <span class="na">patterns</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">\d+'</span> <span class="pi">]</span>

  <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">Decimal</span>
    <span class="na">extends</span><span class="pi">:</span> <span class="s">Number</span>
    <span class="na">patterns</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">${?Integer}\.${?Integer}'</span> <span class="pi">]</span>

  <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">USD</span>
    <span class="na">extends</span><span class="pi">:</span> <span class="s">Currency</span>
    <span class="na">patterns</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">\$'</span> <span class="pi">]</span>

  <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">EUR</span>
    <span class="na">extends</span><span class="pi">:</span> <span class="s">Currency</span>
    <span class="na">patterns</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">€'</span> <span class="pi">]</span>

  <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">GBP</span>
    <span class="na">extends</span><span class="pi">:</span> <span class="s">Currency</span>
    <span class="na">patterns</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">£'</span> <span class="pi">]</span>

  <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">Money</span>
    <span class="na">patterns</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">${Currency}${Number}'</span> <span class="pi">]</span>

  <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">Percent</span>
    <span class="na">patterns</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">${Number}%'</span> <span class="pi">]</span>

</code></pre></div></div>

<p><strong>Compact</strong></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">classes</span><span class="pi">:</span>

  <span class="na">Date</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s1">'</span><span class="s">(?&lt;year&gt;(?&lt;Integer&gt;\d{4}))-(?&lt;month&gt;(?&lt;Integer&gt;\d{2}))-(?&lt;day&gt;(?&lt;Integer&gt;\d{2}))'</span>
    <span class="pi">-</span> <span class="s1">'</span><span class="s">(?&lt;month&gt;(?&lt;Integer&gt;\d{2}))/(?&lt;day&gt;(?&lt;Integer&gt;\d{2}))/(?&lt;year&gt;(?&lt;Integer&gt;\d{4}))'</span>
    <span class="pi">-</span> <span class="s1">'</span><span class="s">(?&lt;day&gt;(?&lt;Integer&gt;\d{2}))-(?&lt;month&gt;[JFMAJSOND][a-z]{2})-(?&lt;year&gt;(?&lt;Integer&gt;\d{4}))'</span>

  <span class="na">Number</span><span class="pi">:</span>
    <span class="na">Integer</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">\d+'</span> <span class="pi">]</span>
    <span class="na">Decimal</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">${?Integer}\.${?Integer}'</span> <span class="pi">]</span>

  <span class="na">Currency</span><span class="pi">:</span>
    <span class="na">USD</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">\$'</span> <span class="pi">]</span>
    <span class="na">EUR</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">€'</span> <span class="pi">]</span>
    <span class="na">GBP</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">£'</span> <span class="pi">]</span>

  <span class="na">Money</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">${Currency}${Number}'</span> <span class="pi">]</span>

  <span class="na">Percent</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">${Number}%'</span> <span class="pi">]</span>

</code></pre></div></div>

<h3 id="java-code">Java Code:</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">String</span> <span class="n">classes</span> <span class="o">=</span> <span class="sh">"""
        
        Date:
          - '(?&lt;year&gt;(?&lt;Integer&gt;\\d{4}))-(?&lt;month&gt;(?&lt;Integer&gt;\\d{2}))-(?&lt;day&gt;(?&lt;Integer&gt;\\d{2}))'
          - '(?&lt;month&gt;(?&lt;Integer&gt;\\d{2}))/(?&lt;day&gt;(?&lt;Integer&gt;\\d{2}))/(?&lt;year&gt;(?&lt;Integer&gt;\\d{4}))'
          - '(?&lt;day&gt;(?&lt;Integer&gt;\\d{2}))-(?&lt;month&gt;[JFMAJSOND][a-z]{2})-(?&lt;year&gt;(?&lt;Integer&gt;\\d{4}))'
        
        Number:
          Integer: [ '\\d+' ]
          Decimal: [ '${?Integer}\\.${?Integer}' ]
        
        Currency:
          USD: [ '\\$' ]
          EUR: [ '€' ]
          GBP: [ '£' ]
        
        Money: [ '${Currency}${Number}' ]
        
        Percent: [ '${Number}%' ]
        
        """</span><span class="o">;</span>

<span class="nc">String</span> <span class="n">input</span> <span class="o">=</span> <span class="sh">"""
        Invoice date: 2023-11-26. Total amount paid: $123.45 (including 20% VAT).
        Order placed on: 15/10/2024. Total discount applied: 15% and 10%.
        Transaction completed: €678.90 on 2022-12-01. Currency conversion fee: 2.5%.
        Payment received: £345.67 on 01/09/2023. Early bird discount: 5%.
        Subscription renewed: $49.99 (tax: 8%) on 26-Nov-2024.
        """</span><span class="o">;</span>

<span class="nc">RegexMatcher</span> <span class="n">matcher</span> <span class="o">=</span> <span class="nc">Expresso</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">classes</span><span class="o">).</span><span class="na">matcher</span><span class="o">(</span><span class="n">input</span><span class="o">);</span>

<span class="k">while</span><span class="o">(</span><span class="n">matcher</span><span class="o">.</span>

<span class="nf">find</span><span class="o">()){</span>
<span class="kd">final</span> <span class="nc">String</span> <span class="n">group</span> <span class="o">=</span> <span class="s">"%s: %s"</span><span class="o">.</span><span class="na">formatted</span><span class="o">(</span><span class="n">matcher</span><span class="o">.</span><span class="na">groupName</span><span class="o">(),</span> <span class="n">matcher</span><span class="o">.</span><span class="na">group</span><span class="o">());</span>
<span class="kd">final</span> <span class="nc">String</span> <span class="n">subgroups</span> <span class="o">=</span> <span class="nc">IntStream</span><span class="o">.</span><span class="na">range</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">matcher</span><span class="o">.</span><span class="na">groupCount</span><span class="o">())</span>
        <span class="o">.</span><span class="na">mapToObj</span><span class="o">(</span><span class="n">i</span> <span class="o">-&gt;</span> <span class="s">"%s: %s"</span><span class="o">.</span><span class="na">formatted</span><span class="o">(</span><span class="n">matcher</span><span class="o">.</span><span class="na">groupName</span><span class="o">(</span><span class="n">i</span><span class="o">),</span> <span class="n">matcher</span><span class="o">.</span><span class="na">group</span><span class="o">(</span><span class="n">i</span><span class="o">)))</span>
        <span class="o">.</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">joining</span><span class="o">(</span><span class="s">", "</span><span class="o">));</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span>

<span class="nf">println</span><span class="o">(</span><span class="n">group</span> <span class="o">+(</span><span class="n">subgroups</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">()</span> <span class="o">?</span><span class="s">""</span><span class="o">:</span><span class="s">" ("</span><span class="o">+</span><span class="n">subgroups</span> <span class="o">+</span><span class="s">")"</span><span class="o">));</span>
        <span class="o">}</span>
</code></pre></div></div>

<h3 id="capture-all-groups">Capture All Groups</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">RegexMatcher</span> <span class="n">matcher</span> <span class="o">=</span> <span class="nc">Expresso</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">classes</span><span class="o">).</span><span class="na">matcher</span><span class="o">(</span><span class="n">input</span><span class="o">);</span>
</code></pre></div></div>

<p><strong>Output:</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Date: 2023-11-26 (year: 2023, Integer: 2023, month: 11, Integer: 11, day: 26, Integer: 26)
Money: $123.45 (USD: $, Decimal: 123.45)
Percent: 20% (Integer: 20)
Date: 15/10/2024 (month: 15, Integer: 15, day: 10, Integer: 10, year: 2024, Integer: 2024)
Percent: 15% (Integer: 15)
Percent: 10% (Integer: 10)
Money: €678.90 (EUR: €, Decimal: 678.90)
Date: 2022-12-01 (year: 2022, Integer: 2022, month: 12, Integer: 12, day: 01, Integer: 01)
Percent: 2.5% (Decimal: 2.5)
Money: £345.67 (GBP: £, Decimal: 345.67)
Date: 01/09/2023 (month: 01, Integer: 01, day: 09, Integer: 09, year: 2023, Integer: 2023)
Percent: 5% (Integer: 5)
Money: $49.99 (USD: $, Decimal: 49.99)
Percent: 8% (Integer: 8)
Date: 26-Nov-2024 (day: 26, Integer: 26, month: Nov, year: 2024, Integer: 2024)
</code></pre></div></div>

<h3 id="capture-numbers">Capture Numbers</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">RegexMatcher</span> <span class="n">matcher</span> <span class="o">=</span> <span class="nc">Expresso</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">classes</span><span class="o">).</span><span class="na">matcher</span><span class="o">(</span><span class="n">input</span><span class="o">).</span><span class="na">within</span><span class="o">(</span><span class="s">"Number"</span><span class="o">);</span>
</code></pre></div></div>

<p><strong>Output:</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Integer: 2023
Integer: 11
Integer: 26
Decimal: 123.45
Integer: 20
Integer: 15
Integer: 10
Integer: 2024
Integer: 15
Integer: 10
Decimal: 678.90
Integer: 2022
Integer: 12
Integer: 01
Decimal: 2.5
Decimal: 345.67
Integer: 01
Integer: 09
Integer: 2023
Integer: 5
Decimal: 49.99
Integer: 8
Integer: 26
Integer: 2024
</code></pre></div></div>

<h3 id="capture-decimals">Capture Decimals</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">RegexMatcher</span> <span class="n">matcher</span> <span class="o">=</span> <span class="nc">Expresso</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">classes</span><span class="o">).</span><span class="na">matcher</span><span class="o">(</span><span class="n">input</span><span class="o">).</span><span class="na">within</span><span class="o">(</span><span class="s">"Decimal"</span><span class="o">);</span>
</code></pre></div></div>

<p><strong>Output:</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Decimal: 123.45
Decimal: 678.90
Decimal: 2.5
Decimal: 345.67
Decimal: 49.99
</code></pre></div></div>

<h3 id="capture-dates">Capture Dates</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">RegexMatcher</span> <span class="n">matcher</span> <span class="o">=</span> <span class="nc">Expresso</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">classes</span><span class="o">).</span><span class="na">matcher</span><span class="o">(</span><span class="n">input</span><span class="o">).</span><span class="na">within</span><span class="o">(</span><span class="s">"Date"</span><span class="o">);</span>
</code></pre></div></div>

<p><strong>Output:</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Date: 2023-11-26 (year: 2023, Integer: 2023, month: 11, Integer: 11, day: 26, Integer: 26)
Date: 15/10/2024 (month: 15, Integer: 15, day: 10, Integer: 10, year: 2024, Integer: 2024)
Date: 2022-12-01 (year: 2022, Integer: 2022, month: 12, Integer: 12, day: 01, Integer: 01)
Date: 01/09/2023 (month: 01, Integer: 01, day: 09, Integer: 09, year: 2023, Integer: 2023)
Date: 26-Nov-2024 (day: 26, Integer: 26, month: Nov, year: 2024, Integer: 2024)
</code></pre></div></div>

<h3 id="capture-years">Capture Years</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">RegexMatcher</span> <span class="n">matcher</span> <span class="o">=</span> <span class="nc">Expresso</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">classes</span><span class="o">).</span><span class="na">matcher</span><span class="o">(</span><span class="n">input</span><span class="o">).</span><span class="na">within</span><span class="o">(</span><span class="s">"year"</span><span class="o">);</span>
</code></pre></div></div>

<p><strong>Output:</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>year: 2023 (Integer: 2023)
year: 2024 (Integer: 2024)
year: 2022 (Integer: 2022)
year: 2023 (Integer: 2023)
year: 2024 (Integer: 2024)
</code></pre></div></div>

<h3 id="capture-percent-amounts">Capture Percent Amounts</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">RegexMatcher</span> <span class="n">matcher</span> <span class="o">=</span> <span class="nc">Expresso</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">classes</span><span class="o">).</span><span class="na">matcher</span><span class="o">(</span><span class="n">input</span><span class="o">).</span><span class="na">within</span><span class="o">(</span><span class="s">"Percent"</span><span class="o">).</span><span class="na">within</span><span class="o">(</span><span class="s">"Number"</span><span class="o">);</span>
</code></pre></div></div>

<p><strong>Output:</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Integer: 20
Integer: 15
Integer: 10
Decimal: 2.5
Integer: 5
Integer: 8
</code></pre></div></div>

<h2 id="try-it-yourself">Try It Yourself</h2>

<p>Want to see this example in action? Use our <a href="https://expresso.cariochi.com/#1">Interactive Demo Application</a> to experiment with the patterns, input, and output. You can
modify the classes, input text, or try capturing different groups and observe the results live.</p>

    </article>
</div>

</main><footer class="site-footer">
    <div class="container footer-inner">
        <p class="copyright">© 2025 CARIOCHI.
            Powered by <a href="https://jekyllrb.com/">Jekyll</a> & <a href="https://pages.github.com/">GitHub Pages</a>
        </p>
        <p class="contact">Contact: <a href="mailto:vadym@deineka.com">vadym@deineka.com</a></p>
    </div>
</footer>
<script src="/assets/js/toc.js"></script>
</body>
</html>
